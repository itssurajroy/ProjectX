{
  "entities": {
    "WatchTogetherRoom": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "WatchTogetherRoom",
      "type": "object",
      "description": "Represents a Watch Together room where users can watch content together.",
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the Watch Together room."
        },
        "animeId": {
          "type": "string",
          "description": "ID of the anime being watched."
        },
        "episodeId": {
          "type": "string",
          "description": "ID of the episode being watched."
        },
        "episodeNumber": {
          "type": "number",
          "description": "Episode number being watched."
        },
        "hostId": {
          "type": "string",
          "description": "User ID of the room host."
        },
        "createdAt": {
          "type": "string",
          "description": "Date and time the room was created.",
          "format": "date-time"
        },
        "playerState": {
          "type": "object",
          "description": "The current state of the video player.",
          "properties": {
            "isPlaying": {
              "type": "boolean"
            },
            "currentTime": {
              "type": "number"
            },
            "updatedAt": {
              "type": "string",
              "format": "date-time"
            }
          },
          "required": ["isPlaying", "currentTime", "updatedAt"]
        }
      },
      "required": [
        "name",
        "animeId",
        "episodeId",
        "episodeNumber",
        "hostId",
        "createdAt",
        "playerState"
      ]
    },
    "RoomUser": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "RoomUser",
      "type": "object",
      "description": "Represents a user within a Watch Together room.",
      "properties": {
        "id": {
          "type": "string",
          "description": "User's unique identifier."
        },
        "name": {
          "type": "string",
          "description": "Display name of the user."
        },
        "avatar": {
          "type": "string",
          "description": "URL of the user's avatar."
        },
        "isHost": {
          "type": "boolean",
          "description": "True if this user is the host."
        }
      },
      "required": ["id", "name", "avatar", "isHost"]
    },
    "ChatMessage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ChatMessage",
      "type": "object",
      "description": "Represents a chat message within a Watch Together room.",
      "properties": {
        "userId": {
          "type": "string",
          "description": "ID of the user who sent the message."
        },
        "userName": {
          "type": "string",
          "description": "Name of the user who sent the message."
        },
        "avatar": {
          "type": "string",
          "description": "Avatar of the user who sent the message."
        },
        "text": {
          "type": "string",
          "description": "Text content of the chat message."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp of when the message was sent.",
          "format": "date-time"
        }
      },
      "required": ["userId", "userName", "text", "timestamp"]
    },
     "Anime": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Anime",
      "type": "object",
      "description": "Represents an anime series or movie.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the anime."
        },
        "title": {
          "type": "string",
          "description": "Title of the anime."
        },
        "posterUrl": {
          "type": "string",
          "description": "URL of the anime's poster image.",
          "format": "uri"
        },
        "description": {
          "type": "string",
          "description": "Description of the anime."
        }
      },
      "required": [
        "id",
        "title",
        "posterUrl"
      ]
    },
     "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user in the system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user."
        },
        "username": {
          "type": "string",
          "description": "Username of the user."
        },
        "email": {
          "type": "string",
          "description": "Email address of the user.",
          "format": "email"
        },
        "avatarUrl": {
          "type": "string",
          "description": "URL of the user's avatar image.",
          "format": "uri"
        }
      },
      "required": [
        "id",
        "username",
        "email"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/watch2gether_rooms/{roomId}",
        "definition": {
          "entityName": "WatchTogetherRoom",
          "schema": {
            "$ref": "#/backend/entities/WatchTogetherRoom"
          },
          "description": "Stores active Watch Together rooms."
        }
      },
      {
        "path": "/watch2gether_rooms/{roomId}/users/{userId}",
        "definition": {
          "entityName": "RoomUser",
          "schema": {
            "$ref": "#/backend/entities/RoomUser"
          },
          "description": "Stores participants of a specific room."
        }
      },
      {
        "path": "/watch2gether_rooms/{roomId}/messages/{messageId}",
        "definition": {
          "entityName": "ChatMessage",
          "schema": {
            "$ref": "#/backend/entities/ChatMessage"
          },
          "description": "Stores chat messages for a specific room."
        }
      },
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": {
            "$ref": "#/backend/entities/User"
          },
          "description": "Stores user information."
        }
      },
      {
        "path": "/anime/{animeId}",
        "definition": {
          "entityName": "Anime",
          "schema": {
            "$ref": "#/backend/entities/Anime"
          },
          "description": "Stores information about anime series and movies."
        }
      }
    ]
  }
}